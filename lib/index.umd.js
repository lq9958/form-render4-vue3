(function(e,f){typeof exports=="object"&&typeof module<"u"?module.exports=f(require("vue")):typeof define=="function"&&define.amd?define(["vue"],f):(e=typeof globalThis<"u"?globalThis:e||self,e["vue3-form-render"]=f(e.Vue))})(this,function(e){"use strict";const f={select:"simple-select",radio:"radio",checkbox:"checkbox",input:"simple-input",number:"number-input",rate:"rate",slider:"slider",color:"color-picker",switch:"switch"},k={fields:[],rules:[],labelWidth:"auto",labelPosition:"right",hideRequiredAsterisk:!1,requireAsteriskPosition:"left",showMessage:!0,disabled:!1},g={props:{labelWidth:"auto"}};function O(n){return n=Object.assign({},k,n),n.fields.length&&(n.fields=n.fields.map(a=>Object.assign({},g,a))),n}const j=(n,a)=>{const l=n[a];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((o,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+a)))})},y={__name:"formItem",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=r=>{a("on-change",r)},m=e.defineAsyncComponent(()=>j(Object.assign({"./components/checkbox.vue":()=>Promise.resolve().then(()=>w),"./components/color-picker.vue":()=>Promise.resolve().then(()=>C),"./components/number-input.vue":()=>Promise.resolve().then(()=>x),"./components/radio.vue":()=>Promise.resolve().then(()=>V),"./components/rate.vue":()=>Promise.resolve().then(()=>P),"./components/simple-input.vue":()=>Promise.resolve().then(()=>$),"./components/simple-select.vue":()=>Promise.resolve().then(()=>M),"./components/slider.vue":()=>Promise.resolve().then(()=>T),"./components/switch.vue":()=>Promise.resolve().then(()=>E)}),`./components/${f[o.type]}.vue`));return(r,c)=>{const i=e.resolveComponent("el-form-item");return e.openBlock(),e.createBlock(i,{label:e.unref(o).title,prop:e.unref(o).field,"label-width":e.unref(o).labelWidth},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.Suspense,null,{default:e.withCtx(()=>[e.createVNode(e.unref(m),{schema:e.unref(o),"form-data":e.unref(s),onOnChange:t},null,8,["schema","form-data"])]),_:1}))]),_:1},8,["label","prop","label-width"])}}},U="",B={class:"vue-form-render"},h={__name:"vue-form-render",props:{schema:Object,modal:Object,onChange:Function},setup(n,{expose:a}){const l=n,o=l.schema,s=e.reactive(O({...l.modal})),t=l.onChange,m=d=>d?24/d:24,r=async({field:d,value:_})=>{s[d]=_,t({field:d,value:_})},c=e.ref(null);return a({validate:async d=>{c&&await c.value.validate((_,b)=>{d(_,b)})},resetFields:()=>{c&&c.resetFields()},clearValidate:()=>{c&&c.clearValidate()}}),(d,_)=>{const b=e.resolveComponent("el-col"),q=e.resolveComponent("el-row"),F=e.resolveComponent("el-form");return e.openBlock(),e.createElementBlock("div",B,[e.createVNode(F,{ref_key:"formInstance",ref:c,model:s,schema:e.unref(o),"label-width":e.unref(o).labelWidth,rules:e.unref(o).rules,"label-position":e.unref(o).labelPosition,"hide-required-asterisk":e.unref(o).hideRequiredAsterisk,"require-asterisk-position":e.unref(o).requireAsteriskPosition,"show-message":e.unref(o).showMessage,"scroll-to-error":e.unref(o).scrollToError},{default:e.withCtx(()=>[e.createVNode(q,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).fields,(I,A)=>(e.openBlock(),e.createBlock(b,{span:m(e.unref(o).column),key:A},{default:e.withCtx(()=>[e.createVNode(y,{schema:I,"form-data":s,onOnChange:r},null,8,["schema","form-data"])]),_:2},1032,["span"]))),128))]),_:1})]),_:1},8,["model","schema","label-width","rules","label-position","hide-required-asterisk","require-asterisk-position","show-message","scroll-to-error"])])}}};h.install=function(n){n.component("vue-form-render",h)};const w=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"checkbox",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("onChange",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-checkbox"),i=e.resolveComponent("el-checkbox-group");return e.openBlock(),e.createBlock(i,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value=p)},e.unref(o).props),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).data.list,(p,u)=>(e.openBlock(),e.createBlock(c,{key:u,label:p[e.unref(o).data.label]},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p[e.unref(o).data.label]),1)]),_:2},1032,["label"]))),128))]),_:1},16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),C=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"color-picker",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("onChange",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-color-picker");return e.openBlock(),e.createBlock(c,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},e.unref(o).props),null,16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),x=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"number-input",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("onChange",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-input-number");return e.openBlock(),e.createBlock(c,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},e.unref(o).props),null,16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),V=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"radio",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("onChange",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-radio"),i=e.resolveComponent("el-radio-group");return e.openBlock(),e.createBlock(i,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value=p)},e.unref(o).props),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).data.list,(p,u)=>(e.openBlock(),e.createBlock(c,{key:u,label:p[e.unref(o).data.label]},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p[e.unref(o).data.label]),1)]),_:2},1032,["label"]))),128))]),_:1},16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),P=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"rate",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("onChange",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-rate");return e.openBlock(),e.createBlock(c,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},e.unref(o).props),null,16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),H="",D=(n,a)=>{const l=n.__vccOpts||n;for(const[o,s]of a)l[o]=s;return l},S={class:"form-render-input"},$=Object.freeze(Object.defineProperty({__proto__:null,default:D({__name:"simple-input",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("on-change",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-input");return e.openBlock(),e.createElementBlock("div",S,[e.createVNode(c,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i),type:"text"},e.unref(o).props),null,16,["modelValue"])])}}},[["__scopeId","data-v-b5e9e1b9"]])},Symbol.toStringTag,{value:"Module"})),M=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"simple-select",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("on-change",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-option"),i=e.resolveComponent("el-select");return e.openBlock(),e.createBlock(i,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value=p)},e.unref(o).props),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).data.list,p=>(e.openBlock(),e.createBlock(c,{key:p[e.unref(o).data.value]||p,label:p[e.unref(o).data.label]||p,value:p[e.unref(o).data.value]||p},null,8,["label","value"]))),128))]),_:1},16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),T=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"slider",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("on-change",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-slider");return e.openBlock(),e.createBlock(c,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},e.unref(o).props),null,16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"})),E=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"switch",props:{schema:Object,formData:Object},setup(n,{emit:a}){const l=n,{schema:o,formData:s}=l,t=e.ref(s[o.field]);return e.watch(t,()=>{a("on-change",{field:o.field,value:t.value})}),(m,r)=>{const c=e.resolveComponent("el-switch");return e.openBlock(),e.createBlock(c,e.mergeProps({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i)},e.unref(o).props),null,16,["modelValue"])}}}},Symbol.toStringTag,{value:"Module"}));return h});
